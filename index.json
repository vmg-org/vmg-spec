{"swagger":2,"info":{"description":"API specification for VMG project","version":"1.0.0","title":"VMG","termsOfService":"","contact":{"name":"vidmerg@gmail.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"host":"localhost:3000","basePath":"/api/","schemes":["http","https"],"paths":{"r1000":{"get":{"operationId":"r1000","tags":["auth_issuer"],"summary":"Get auth providers, include social_profile_arr for each auth provider","parameters":[],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"$ref":"#/definitions/auth_issuer"}}}}}},"r1001":{"get":{"operationId":"r1001","tags":["movie_template"],"summary":"Get all movie templates","parameters":[],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"$ref":"#/definitions/movie_template"}}}},"security":{}}},"r1002":{"get":{"operationId":"r1002","tags":["movie_template"],"summary":"Get a movie_template, including episode_template_arr + episode_bid_count, episode_variant_count for each episode","parameters":[],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/movie_template"}}}}},"w2000":{"post":{"operationId":"w2000","tags":["movie_template"],"summary":"Create a movie_template with episode_template_arr","parameters":[{"in":"body","name":"body","description":"movie_template with episode_template_arr","schema":{"$ref":"#/definitions/movie_template"},"required":true}],"responses":{"201":{"description":"Success","schema":{"$ref":"#/definitions/movie_template"}},"400":{"description":"Bad request"}},"security":{}}}},"definitions":{"movie_template":{"primary_key":"id","properties":{"id":{"type":"integer","description":"Id of movie template","required":true},"name":{"type":"string","description":"Name of movie (template)","maxLength":255,"minLength":3,"required":true},"duration_of_episodes":{"type":"integer","description":"Duration of each episode","required":true},"preview_img_url":{"type":"string","description":"Preview of the movie","maxLength":2000,"required":true},"created":{"type":"integer","description":"When the template is created, unix timestamp","required":true},"finished":{"type":"integer","description":"When the template is closed, unix timestamp","required":true}}},"episode_template":{"primaryKey":"id","properties":{"id":{"type":"integer","description":"Id of a template of an episode","required":true},"name":{"type":"string","description":"Name of an episode","maxLength":255,"minLength":5,"required":true},"story":{"type":"string","description":"Story of an episode","maxLength":400,"minLength":100,"required":true},"conds":{"type":"string","description":"Conditions, required for snapping this episode","maxLength":255,"required":true},"order_in_movie":{"type":"integer","description":"Sequential order in a movie","required":true},"guide_photo_url":{"type":"string","description":"A photo described this episode","maxLength":2000,"required":true},"id_of_movie_template":{"type":"integer","description":"Id of a parent","zref":{"mdl":"movie_template","fld":"id","del":"cascade"},"required":true}}},"auth_issuer":{"primaryKey":"id","properties":{"id":{"type":"string","maxLength":10,"description":"Id of auth issuer, like goog or fb","required":true},"name":{"type":"string","maxLength":50,"description":"Display name of an issuer, like Google or Facebook","required":true},"url":{"type":"string","maxLength":255,"description":"Main url of an issuer","required":true},"social_profile_arr":{"type":"array","items":{"$ref":"social_profile"}}}},"social_profile":{"primaryKey":"id","properties":{"id":{"type":"string","maxLength":8000,"description":"Id of a social profiles, usually iss_snid","required":true}}},"episode_bid":{"primaryKey":["id_of_episode_template","id_of_user_profile"],"properties":{"id_of_episode_template":{"type":"integer","description":"Id of episode template","required":true},"id_of_user_profile":{"type":"integer","description":"Id of participant, who add this bid","required":true},"created":{"type":"integer","description":"Create date, unix timestamp","required":true}}}}}